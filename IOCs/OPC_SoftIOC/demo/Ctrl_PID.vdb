#! Generated by VisualDCT v2.4
#! DBDSTART
#! DBD("../dbd/iocShell.dbd")
#! DBDEND



record(ai, TrainIoc:Ctrl:PID-1_ai) {
  field(INP, "TrainIoc:Ctrl:PID-1_calc")
  field(PREC, "2")
  field(EGUF, "100")
}

#record(pid, TrainIoc:Ctrl:PID_pid) {
#
#}
#
#record(pid, TrainIoc:Ctrl:PID-1_pid) {
#
#}

record(ao, TrainIoc:Ctrl:PID-1_ao) {
  field(FLNK, "TrainIoc:Ctrl:PID-1_calc")
  field(OMSL, "closed_loop")
  field(PREC, "2")
  field(EGUF, "100")
  field(DRVH, "100")
  field(HOPR, "100")
  field(OUT, "TrainIoc:Ctrl:CALC-PID_calc")
}

record(calc, TrainIoc:Ctrl:PID-1_calc) {
  field(CALC, "A+B")
  field(INPA, "TrainIoc:Ctrl:PID-1_ao")
  field(INPB, "TrainIoc:Ctrl:PID-1:ramp_calc.VAL")
}

record(calc, TrainIoc:Ctrl:PID-1:ramp_calc) {
  field(SCAN, "1 second")
  field(CALC, "(A<15)?A+1:0")
  field(INPA, "TrainIoc:Ctrl:PID-1:ramp_calc.VAL")
}

record(calc, TrainIoc:Ctrl:CALC-PID_calc) {
  field(CALC, "A-B")
  field(INPA, "TrainIoc:Ctrl:PID-1_ai")
  field(INPB, "0.5")
}

#! Further lines contain data used by VisualDCT
#! View(1534,1617,0.8)
#! Record(TrainIoc:Ctrl:PID-1_ai,2020,2160,0,1,"TrainIoc:Ctrl:PID-1_ai")
#! Field("TrainIoc:Ctrl:PID-1_ai.VAL",16777215,1,"TrainIoc:Ctrl:PID-1_ai.VAL")
#! Field("TrainIoc:Ctrl:PID-1_ai.INP",16777215,1,"TrainIoc:Ctrl:PID-1_ai.INP")
#! Link("TrainIoc:Ctrl:PID-1_ai.INP","TrainIoc:Ctrl:PID-1_calc.VAL")
#! Record(TrainIoc:Ctrl:PID-1_ao,2760,2440,0,0,"TrainIoc:Ctrl:PID-1_ao")
#! Field("TrainIoc:Ctrl:PID-1_ao.VAL",16777215,0,"TrainIoc:Ctrl:PID-1_ao.VAL")
#! Field("TrainIoc:Ctrl:PID-1_ao.FLNK",16777215,0,"TrainIoc:Ctrl:PID-1_ao.FLNK")
#! Link("TrainIoc:Ctrl:PID-1_ao.FLNK",TrainIoc:Ctrl:PID-1_calc)
#! Field("TrainIoc:Ctrl:PID-1_ao.OUT",16777215,0,"TrainIoc:Ctrl:PID-1_ao.OUT")
#! Link("TrainIoc:Ctrl:PID-1_ao.OUT","TrainIoc:Ctrl:PID-1_ao/OUT")
#! Connector("TrainIoc:Ctrl:PID-1_ao/OUT","TrainIoc:Ctrl:CALC-PID_calc.VAL",2520,2460,16777215,"",0)
#! Record(TrainIoc:Ctrl:PID-1_calc,2220,2680,0,1,"TrainIoc:Ctrl:PID-1_calc")
#! Field("TrainIoc:Ctrl:PID-1_calc.VAL",16777215,0,"TrainIoc:Ctrl:PID-1_calc.VAL")
#! Field("TrainIoc:Ctrl:PID-1_calc.INPA",16777215,1,"TrainIoc:Ctrl:PID-1_calc.INPA")
#! Link("TrainIoc:Ctrl:PID-1_calc.INPA","TrainIoc:Ctrl:PID-1_calc/INPA")
#! Field("TrainIoc:Ctrl:PID-1_calc.INPB",16777215,1,"TrainIoc:Ctrl:PID-1_calc.INPB")
#! Link("TrainIoc:Ctrl:PID-1_calc.INPB","TrainIoc:Ctrl:PID-1_calc/INPB")
#! Connector("TrainIoc:Ctrl:PID-1_calc/INPB","TrainIoc:Ctrl:PID-1:ramp_calc.VAL",2920,2380,16777215,"",0)
#! Connector("TrainIoc:Ctrl:PID-1_calc/INPA","TrainIoc:Ctrl:PID-1_ao.VAL",2600,2700,16777215,"",0)
#! Record(TrainIoc:Ctrl:PID-1:ramp_calc,2600,2140,0,1,"TrainIoc:Ctrl:PID-1:ramp_calc")
#! Field("TrainIoc:Ctrl:PID-1:ramp_calc.VAL",16777215,1,"TrainIoc:Ctrl:PID-1:ramp_calc.VAL")
#! Field("TrainIoc:Ctrl:PID-1:ramp_calc.INPA",16777215,0,"TrainIoc:Ctrl:PID-1:ramp_calc.INPA")
#! Link("TrainIoc:Ctrl:PID-1:ramp_calc.INPA","sSem:PID-a:ramp_calc/INPA1")
#! Connector("sSem:PID-a:ramp_calc/INPA1","sSem:PID-a:ramp_calc/INPA",2520,2280,16777215,"",0)
#! Connector("sSem:PID-a:ramp_calc/INPA","TrainIoc:Ctrl:PID-1:ramp_calc.VAL",2760,2300,16777215,"",0)
#! Record(TrainIoc:Ctrl:CALC-PID_calc,2300,2300,0,1,"TrainIoc:Ctrl:CALC-PID_calc")
#! Field("TrainIoc:Ctrl:CALC-PID_calc.VAL",16777215,1,"TrainIoc:Ctrl:CALC-PID_calc.VAL")
#! Field("TrainIoc:Ctrl:CALC-PID_calc.INPA",16777215,0,"TrainIoc:Ctrl:CALC-PID_calc.INPA")
#! Link("TrainIoc:Ctrl:CALC-PID_calc.INPA","TrainIoc:Ctrl:PID-1_ai.VAL")
#! Field("TrainIoc:Ctrl:CALC-PID_calc.INPB",16777215,1,"TrainIoc:Ctrl:CALC-PID_calc.INPB")
